<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>schools</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="favicon.ico">
    <script src= 
    "https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"> 
        </script> 
</head>
<script>
     var list = [ 
            { "col_1": "val_11", "col_3": "val_13" }, 
            { "col_2": "val_22", "col_3": "val_23" }, 
            { "col_1": "val_31", "col_3": "val_33" } 
        ];

   var obj;
   function createSchoolTable(){
   const fetch = require('node-fetch')
 
    
   var url = 'https://api.scb.se/UF0109/v2/skolenhetsregister/sv/kommun/1472' 
  
   fetch(url).then((response) =>{
        return response.json();
        console.log("response")
   }).then((myJson)=> {
     obj = myJson
   });
    console.log(obj)

}
function tableCreatorTest(){
    var cols = []; 
              
              for (var i = 0; i < list.length; i++) { 
                  for (var k in list[i]) { 
                      if (cols.indexOf(k) === -1) { 
                            
                          // Push all keys to the array 
                          cols.push(k); 
                      } 
                  } 
              } 
                
              // Create a table element 
              var table = document.createElement("table"); 
                
              // Create table row tr element of a table 
              var tr = table.insertRow(-1); 
                
              for (var i = 0; i < cols.length; i++) { 
                    
                  // Create the table header th element 
                  var theader = document.createElement("th"); 
                  theader.innerHTML = cols[i]; 
                    
                  // Append columnName to the table row 
                  tr.appendChild(theader); 
              } 
                
              // Adding the data to the table 
              for (var i = 0; i < list.length; i++) { 
                    
                  // Create a new row 
                  trow = table.insertRow(-1); 
                  for (var j = 0; j < cols.length; j++) { 
                      var cell = trow.insertCell(-1); 
                        
                      // Inserting the cell at particular place 
                      cell.innerHTML = list[i][cols[j]]; 
                  } 
              } 
                
              // Add the newely created table containing json data 
              var el = document.getElementById("table"); 
              el.innerHTML = ""; 
              el.appendChild(table); 
          }  
} 
 
function Headers(list, selector) { 

    var columns = []; 
   var header = $('<tr/>'); 
     
   for (var i = 0; i < list.length; i++) { 
       var row = list[i]; 
         
       for (var k in row) { 
           if ($.inArray(k, columns) == -1) { 
               columns.push(k); 
                 
               // Creating the header 
               header.append($('<th/>').html(k)); 
           } 
       } 
   } 
     
   // Appending the header to the table 
   $(selector).append(header); 
       return columns; 

}
</script>

<body id = "body">
    <input type="button" onclick="tableCreatorTest('#table')" value="Schools in Tibro !"/>
    <p id="showschools"></p>
    <table id="table" align="center" >
        
    </table>
</body>

</html>