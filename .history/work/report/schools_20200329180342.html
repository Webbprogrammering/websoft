<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>schools</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="favicon.ico">
</head>
<script>
   function c(){
   const fetch = require('node-fetch')
  var obj; 
   var url = 'https://api.scb.se/UF0109/v2/skolenhetsregister/sv/kommun/1472' 
  
   fetch(url).then((response) =>{
        return response.json();
        console.log("response")
   }).then((myJson)=> {
     obj = myJson
   });
    console.log(obj)
function generateTableHead(table, data) {
  let thead = table.createTHead();
  let row = thead.insertRow();
  for (let key of data) {
    let th = document.createElement("th");
    let text = document.createTextNode(key);
    th.appendChild(text);
    row.appendChild(th);
  }
}

function generateTable(table, data) {
  for (let element of data) {
    let row = table.insertRow();
    for (key in element) {
      let cell = row.insertCell();
      let text = document.createTextNode(element[key]);
      cell.appendChild(text);
    }
  }
}

let table = document.querySelector("table");
let data = Object.keys(obj[0]);
generateTableHead(table, data);
generateTable(table, obj);
   
</script>

<body>
    <input type="button" onclick="createSchoolTable()" value="Schools in Tibro !"/>
    <p id="showschools"></p>
    <table id="table">
        <tbody id ="tbody"></tbody>
    </table>
</body>

</html>